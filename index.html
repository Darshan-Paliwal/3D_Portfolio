<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Darshan — Portfolio</title>
  <meta name="description" content="Web developer portfolio with 3D scroll animation." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0e14;
      --bg-2:#0f1320;
      --text:#e6e9ef;
      --muted:#9aa4b2;
      --brand:#63e6be;
      --card:#121726;
      --ring: rgba(99,230,190,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 80% -20%, #234 0%, transparent 60%),
        radial-gradient(1000px 700px at -10% 10%, #213 0%, transparent 60%),
        var(--bg);
      line-height:1.6;
      overflow-x:hidden;
    }

    /* --- Nav --- */
    header{
      position:fixed; inset:0 0 auto 0; height:64px;
      backdrop-filter:saturate(1.2) blur(10px);
      background:linear-gradient(to bottom, rgba(11,14,20,.8), rgba(11,14,20,.3));
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex; align-items:center; justify-content:center;
      z-index:50;
    }
    .nav{
      width:min(1100px, 92vw);
      display:flex; align-items:center; justify-content:space-between;
    }
    .brand{font-weight:800; letter-spacing:.4px}
    nav a{
      color:var(--muted); text-decoration:none; margin-left:20px; font-weight:600;
    }
    nav a:hover{color:var(--text)}

    /* --- Hero (pinned 3D) --- */
    .panel{
      position:relative;
      height:100vh;
      width:100%;
      display:grid;
      place-items:center;
      overflow:hidden;
    }
    canvas#three{display:block; position:absolute; inset:0; width:100%; height:100%}
    .hero-copy{
      position:relative; z-index:2;
      text-align:center; padding:0 1rem;
      max-width:900px;
    }
    .kicker{color:var(--brand); font-weight:800; letter-spacing:.2em; text-transform:uppercase; font-size:.85rem}
    h1{
      margin:.4rem auto 1rem;
      font-size: clamp(2rem, 6vw, 4rem);
      line-height:1.1;
    }
    .lead{color:var(--muted); font-size: clamp(1rem, 2.2vw, 1.25rem)}
    .cta{
      margin-top:1.25rem; display:inline-flex; gap:.6rem; align-items:center;
      background:linear-gradient(135deg, var(--brand), #51d3ff);
      color:#001015; font-weight:800; padding:.9rem 1.1rem; border-radius:14px; text-decoration:none;
      box-shadow:0 10px 30px rgba(81,211,255,.25), 0 6px 18px var(--ring);
    }
    .cta:hover{transform:translateY(-1px)}

    /* --- Sections --- */
    section{
      width:min(1100px, 92vw);
      margin:0 auto; padding:96px 0;
    }
    .section-title{font-size: clamp(1.4rem, 3vw, 2rem); margin:0 0 1rem}
    .muted{color:var(--muted)}
    .grid{
      display:grid; gap:20px;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.06);
      border-radius:18px; padding:22px;
      box-shadow:0 12px 40px rgba(0,0,0,.25);
      transition:.25s ease;
    }
    .card:hover{transform:translateY(-4px); box-shadow:0 16px 50px rgba(0,0,0,.35)}
    .tag{
      display:inline-block; font-size:.78rem; font-weight:700; letter-spacing:.02em;
      padding:.25rem .6rem; border-radius:999px; margin-right:.35rem; margin-bottom:.5rem;
      color:#001015; background:linear-gradient(135deg, var(--brand), #51d3ff);
    }
    .btn{
      display:inline-block; padding:.7rem 1rem; border-radius:12px; color:var(--text);
      border:1px solid rgba(255,255,255,.1); text-decoration:none; font-weight:700;
    }
    .btn:hover{border-color:rgba(255,255,255,.25)}

    footer{padding:60px 0; text-align:center; color:var(--muted)}

    /* small helpers */
    .sp-1{height:40vh}
    @media (prefers-reduced-motion: reduce){
      .cta{transition:none}
    }
  </style>
</head>
<body>
  <!-- ====== NAV ====== -->
  <header>
    <div class="nav">
      <div class="brand">Darshan</div>
      <nav>
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ====== HERO: pinned 3D scene ====== -->
  <section id="hero" class="panel" aria-label="3D hero">
    <canvas id="three"></canvas>
    <div class="hero-copy">
      <div class="kicker">Web Developer</div>
      <h1>Building fast, modern web experiences.</h1>
      <p class="lead">
        I design & ship responsive websites and React apps. Scroll to see the magic —
        the 3D element below responds to your scroll and showcases interaction skills.
      </p>
      <a class="cta" href="#projects">See Projects →</a>
    </div>
  </section>

  <div class="sp-1"></div>

  <!-- ====== ABOUT ====== -->
  <section id="about">
    <h2 class="section-title">About</h2>
    <p class="muted">
      Hi, I’m <strong>Darshan Paliwal</strong>. I build performant front-ends with React, modern CSS,
      and clean UX. I care about accessibility, page speed, and delightful micro-interactions.
      Tools I use: React, Next.js, Tailwind, Node, Firebase, GSAP, Three.js.
    </p>
  </section>

  <!-- ====== PROJECTS ====== -->
  <section id="projects">
    <h2 class="section-title">Projects</h2>
    <div class="grid">
      <article class="card">
        <span class="tag">React</span><span class="tag">Firebase</span>
        <h3>Realtime Chat App</h3>
        <p class="muted">Authentication, live rooms, and file sharing. Deployed on Vercel.</p>
        <a class="btn" href="#" target="_blank" rel="noopener">Live Demo</a>
      </article>
      <article class="card">
        <span class="tag">Three.js</span><span class="tag">GSAP</span>
        <h3>3D Landing Hero</h3>
        <p class="muted">Scroll-driven 3D hero with lighting and subtle depth cues.</p>
        <a class="btn" href="#" target="_blank" rel="noopener">Live Demo</a>
      </article>
      <article class="card">
        <span class="tag">Next.js</span><span class="tag">Stripe</span>
        <h3>E-commerce Starter</h3>
        <p class="muted">Products, cart, checkout, and CMS integration.</p>
        <a class="btn" href="#" target="_blank" rel="noopener">Live Demo</a>
      </article>
    </div>
  </section>

  <!-- ====== CONTACT ====== -->
  <section id="contact">
    <h2 class="section-title">Contact</h2>
    <p class="muted">Open for freelance work. Email me at <a href="mailto:hello@example.com">hello@example.com</a> or DM on socials.</p>
  </section>

  <footer>© <span id="year"></span> Darshan • Built with HTML, GSAP & Three.js</footer>

  <!-- ====== Scripts (CDNs) ====== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== THREE.JS SCENE =====
    const canvas = document.getElementById('three');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(window.innerWidth, window.innerHeight);

    const scene  = new THREE.Scene();

    // Camera
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 100);
    camera.position.set(0, 0, 4);
    scene.add(camera);

    // Lights
    const ambient = new THREE.AmbientLight(0xffffff, 0.4);
    const key = new THREE.PointLight(0x66e6ff, 1.2, 10);
    key.position.set(2, 2, 3);
    const rim = new THREE.PointLight(0x63e6be, 1, 10);
    rim.position.set(-3, -1, -2);
    scene.add(ambient, key, rim);

    // Geometry (procedural – no downloads)
    const geo = new THREE.TorusKnotGeometry(0.9, 0.32, 240, 36, 2, 3);
    const mat = new THREE.MeshStandardMaterial({
      roughness: 0.15,
      metalness: 0.75,
      color: 0x8ad9ff,
      envMapIntensity: 1.0
    });
    const mesh = new THREE.Mesh(geo, mat);
    scene.add(mesh);

    // Subtle space particles
    const pGeo = new THREE.BufferGeometry();
    const count = 1200;
    const positions = new Float32Array(count * 3);
    for(let i=0;i<count;i++){
      const r = 6 + Math.random()*6;
      const theta = Math.random()*Math.PI*2;
      const phi = Math.acos(2*Math.random()-1);
      positions[i*3]   = r * Math.sin(phi) * Math.cos(theta);
      positions[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
      positions[i*3+2] = r * Math.cos(phi);
    }
    pGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const pMat = new THREE.PointsMaterial({ size: 0.01, color: 0x88aaff, transparent: true, opacity: 0.65 });
    const stars = new THREE.Points(pGeo, pMat);
    scene.add(stars);

    // Render loop
    let raf;
    function render(){
      raf = requestAnimationFrame(render);
      renderer.render(scene, camera);
    }
    render();

    // Handle resize
    window.addEventListener('resize', () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    });

    // ===== SCROLL ANIMATION (GSAP + ScrollTrigger) =====
    gsap.registerPlugin(ScrollTrigger);

    // Pin the hero section and animate through scroll
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if(!prefersReduced){
      // rotation + scale animation
      gsap.to(mesh.rotation, {
        x: Math.PI * 2,
        y: Math.PI * 2,
        ease: 'none',
        scrollTrigger: {
          trigger: '#hero',
          start: 'top top',
          end: '+=300%',
          scrub: 1.2,
          pin: true
        }
      });

      // camera dolly in, then out
      gsap.fromTo(camera.position, { z: 5 }, {
        z: 2.3,
        ease: 'none',
        scrollTrigger: {
          trigger: '#hero',
          start: 'top top',
          end: '+=150%',
          scrub: 1.2
        }
      });

      // subtle color shift
      gsap.to(mat, {
        duration: 1,
        colorProps: { color: '#63e6be' },
        scrollTrigger: {
          trigger: '#hero',
          start: 'center center',
          end: '+=100%',
          scrub: true
        }
      });

      // parallax stars
      gsap.to(stars.rotation, {
        y: Math.PI,
        ease: 'none',
        scrollTrigger: {
          trigger: '#hero',
          start: 'top top',
          end: '+=300%',
          scrub: 1
        }
      });
    }

    // Clean up on navigation SPA-style (not needed for static, but safe)
    window.addEventListener('beforeunload', ()=> cancelAnimationFrame(raf));
  </script>
</body>
</html>